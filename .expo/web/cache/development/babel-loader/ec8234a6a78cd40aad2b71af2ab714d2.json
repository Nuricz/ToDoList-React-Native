{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/nuria/Documentos/cespi/agenda-react-native/App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from 'expo-status-bar';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useState, useEffect } from 'react';\nimport Header from \"./src/components/Header\";\nimport Todos from \"./src/components//Todos/Todos\";\nimport Modal from \"./src/components//Modal\";\nimport axios from 'axios';\n\nvar App = function App() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      todos = _useState2[0],\n      setTodos = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modal = _useState4[0],\n      setModal = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      actual = _useState8[0],\n      setActual = _useState8[1];\n\n  useEffect(function () {\n    getData();\n  }, []);\n\n  function handleToggle() {\n    setModal(function (prev) {\n      return !prev;\n    });\n  }\n\n  function getData() {\n    var response;\n    return _regeneratorRuntime.async(function getData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.get('https://jsonplaceholder.typicode.com/todos?_limit=10'));\n\n          case 3:\n            response = _context.sent;\n            setTodos(response.data);\n            setLoading(false);\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  }\n\n  function handleSubmit(todo) {\n    var response;\n    return _regeneratorRuntime.async(function handleSubmit$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            setLoading(true);\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(axios.post('https://jsonplaceholder.typicode.com/todos', todo));\n\n          case 4:\n            response = _context2.sent;\n            setTodos(function (prev) {\n              return [response.data].concat(_toConsumableArray(prev));\n            });\n            setLoading(false);\n            _context2.next = 12;\n            break;\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  }\n\n  function handleDelete(todo_id) {\n    return _regeneratorRuntime.async(function handleDelete$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            setLoading(true);\n            _context3.next = 4;\n            return _regeneratorRuntime.awrap(axios.delete(\"https://jsonplaceholder.typicode.com/todos/\" + todo_id));\n\n          case 4:\n            setTodos(function (prev) {\n              return prev.filter(function (each) {\n                return each.id !== todo_id;\n              });\n            });\n            setLoading(false);\n            _context3.next = 11;\n            break;\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0);\n\n          case 11:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  }\n\n  function editTodo(todo) {\n    var response;\n    return _regeneratorRuntime.async(function editTodo$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            setLoading(true);\n            _context4.next = 4;\n            return _regeneratorRuntime.awrap(axios.patch(\"https://jsonplaceholder.typicode.com/todos/\" + todo.id, todo));\n\n          case 4:\n            response = _context4.sent;\n            setTodos(function (prev) {\n              return prev.map(function (each) {\n                if (each.id === todo.id) {\n                  return _objectSpread({}, response.data);\n                } else return each;\n              });\n            });\n            setLoading(false);\n            _context4.next = 12;\n            break;\n\n          case 9:\n            _context4.prev = 9;\n            _context4.t0 = _context4[\"catch\"](0);\n            console.log(_context4.t0);\n\n          case 12:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  }\n\n  function handleEdit(todo) {\n    return _regeneratorRuntime.async(function handleEdit$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            setActual(todo);\n            setModal(true);\n\n          case 2:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, React.createElement(Header, {\n    handleToggle: handleToggle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }), React.createElement(Todos, {\n    todos: todos,\n    loading: loading,\n    handleEdit: handleEdit,\n    handleDelete: handleDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }), modal && React.createElement(Modal, {\n    show: modal,\n    handleToggle: handleToggle,\n    handleSubmit: handleSubmit,\n    editTodo: editTodo,\n    actual: actual,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/nuria/Documentos/cespi/agenda-react-native/App.js"],"names":["StatusBar","React","useState","useEffect","Header","Todos","Modal","axios","App","todos","setTodos","modal","setModal","loading","setLoading","actual","setActual","getData","handleToggle","prev","get","response","data","console","log","handleSubmit","todo","post","handleDelete","todo_id","delete","filter","each","id","editTodo","patch","map","handleEdit"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport { StyleSheet, Text, View } from 'react-native';\n\nimport React, { useState, useEffect } from 'react';\nimport Header from './src/components/Header';\nimport Todos from './src/components//Todos/Todos';\nimport Modal from './src/components//Modal';\nimport axios from 'axios';\n\nconst App = () => {\n  const [todos, setTodos] = useState([]);\n  const [modal, setModal] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [actual, setActual] = useState(null);\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  function handleToggle() {\n    setModal((prev) => !prev);\n  }\n\n  async function getData() {\n    try {\n      const response = await axios.get(\n        'https://jsonplaceholder.typicode.com/todos?_limit=10'\n      );\n      setTodos(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function handleSubmit(todo) {\n    try {\n      setLoading(true);\n\n      const response = await axios.post(\n        'https://jsonplaceholder.typicode.com/todos',\n        todo\n      );\n\n      setTodos((prev) => {\n        return [response.data, ...prev];\n      });\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function handleDelete(todo_id) {\n    try {\n      setLoading(true);\n\n      await axios.delete(\n        `https://jsonplaceholder.typicode.com/todos/${todo_id}`\n      );\n\n      setTodos((prev) => {\n        return prev.filter((each) => each.id !== todo_id);\n      });\n\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function editTodo(todo) {\n    try {\n      setLoading(true);\n\n      const response = await axios.patch(\n        `https://jsonplaceholder.typicode.com/todos/${todo.id}`,\n        todo\n      );\n\n      setTodos((prev) => {\n        return prev.map((each) => {\n          if (each.id === todo.id) {\n            return {\n              ...response.data,\n            };\n          } else return each;\n        });\n      });\n\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function handleEdit(todo) {\n    setActual(todo);\n    setModal(true);\n  }\n\n  return (\n    <View>\n      <Header handleToggle={handleToggle} />\n      <Todos\n        todos={todos}\n        loading={loading}\n        handleEdit={handleEdit}\n        handleDelete={handleDelete}\n      />\n      {modal && (\n        <Modal\n          show={modal}\n          handleToggle={handleToggle}\n          handleSubmit={handleSubmit}\n          editTodo={editTodo}\n          actual={actual}\n        />\n      )}\n    </View>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}